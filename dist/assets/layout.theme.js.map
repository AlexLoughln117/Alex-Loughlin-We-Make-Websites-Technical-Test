{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./scripts/layout/theme.js","webpack:///../node_modules/@shopify/theme-a11y/theme-a11y.js","webpack:///../node_modules/@shopify/theme-cart/request.js","webpack:///../node_modules/@shopify/theme-cart/validate.js","webpack:///../node_modules/@shopify/theme-cart/theme-cart.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_themeA11y","_themeCart","focusHash","bindInPageLinks","cookiesEnabled","document","documentElement","className","replace","forceFocus","element","options","savedTabIndex","tabIndex","dataset","focus","classList","add","addEventListener","callback","event","target","removeEventListener","type","remove","hash","window","location","getElementById","slice","ignore","matches","Array","querySelectorAll","filter","link","querySelector","focusable","container","offsetWidth","offsetHeight","getClientRects","length","__webpack_exports__","trapFocus","removeTrapFocus","accessibleLinks","trapFocusHandlers","elements","elementToFocus","first","last","focusin","contains","keydown","focusout","keyCode","shiftKey","preventDefault","TypeError","messages","newWindow","external","newWindowExternal","prefix","messageSelectors","forEach","getAttribute","rel","isExternal","hostname","isTargetBlank","isRelNoopenerEmpty","indexOf","setAttribute","createElement","htmlMessages","keys","reduce","html","innerHTML","body","appendChild","getDefaultRequestConfig","JSON","parse","stringify","credentials","headers","X-Requested-With","Content-Type","fetchJSON","url","config","fetch","then","response","ok","json","cart","cartChange","line","method","quantity","properties","cartUpdate","validate_key","split","getState","getItemIndex","state","index","items","item","Promise","reject","Error","getItem","lineItem","addItem","id","updateItem","validate_options","removeItem","clearItems","getAttributes","attributes","updateAttributes","clearAttributes","getNote","note","updateNote","clearNote","getShippingRates"],"mappings":"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","file":"layout.theme.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","'use strict';\n\nrequire('../../styles/theme.scss');\n\nrequire('../../styles/theme.scss.liquid');\n\nvar _themeA11y = require('@shopify/theme-a11y');\n\nvar _themeCart = require('@shopify/theme-cart');\n\n// Common a11y fixes\n(0, _themeA11y.focusHash)();\n(0, _themeA11y.bindInPageLinks)();\n\n// Apply a specific class to the html element for browser support of cookies.\nif ((0, _themeCart.cookiesEnabled)()) {\n  document.documentElement.className = document.documentElement.className.replace('supports-no-cookies', 'supports-cookies');\n}","/**\n * A11y Helpers\n * -----------------------------------------------------------------------------\n * A collection of useful functions that help make your theme more accessible\n */\n\n/**\n * Moves focus to an HTML element\n * eg for In-page links, after scroll, focus shifts to content area so that\n * next `tab` is where user expects. Used in bindInPageLinks()\n * eg move focus to a modal that is opened. Used in trapFocus()\n *\n * @param {Element} container - Container DOM element to trap focus inside of\n * @param {Object} options - Settings unique to your theme\n * @param {string} options.className - Class name to apply to element on focus.\n */\nexport function forceFocus(element, options) {\n  options = options || {};\n\n  var savedTabIndex = element.tabIndex;\n\n  element.tabIndex = -1;\n  element.dataset.tabIndex = savedTabIndex;\n  element.focus();\n  if (typeof options.className !== 'undefined') {\n    element.classList.add(options.className);\n  }\n  element.addEventListener('blur', callback);\n\n  function callback(event) {\n    event.target.removeEventListener(event.type, callback);\n\n    element.tabIndex = savedTabIndex;\n    delete element.dataset.tabIndex;\n    if (typeof options.className !== 'undefined') {\n      element.classList.remove(options.className);\n    }\n  }\n}\n\n/**\n * If there's a hash in the url, focus the appropriate element\n * This compensates for older browsers that do not move keyboard focus to anchor links.\n * Recommendation: To be called once the page in loaded.\n *\n * @param {Object} options - Settings unique to your theme\n * @param {string} options.className - Class name to apply to element on focus.\n * @param {string} options.ignore - Selector for elements to not include.\n */\n\nexport function focusHash(options) {\n  options = options || {};\n  var hash = window.location.hash;\n  var element = document.getElementById(hash.slice(1));\n\n  // if we are to ignore this element, early return\n  if (element && options.ignore && element.matches(options.ignore)) {\n    return false;\n  }\n\n  if (hash && element) {\n    forceFocus(element, options);\n  }\n}\n\n/**\n * When an in-page (url w/hash) link is clicked, focus the appropriate element\n * This compensates for older browsers that do not move keyboard focus to anchor links.\n * Recommendation: To be called once the page in loaded.\n *\n * @param {Object} options - Settings unique to your theme\n * @param {string} options.className - Class name to apply to element on focus.\n * @param {string} options.ignore - CSS selector for elements to not include.\n */\n\nexport function bindInPageLinks(options) {\n  options = options || {};\n  var links = Array.prototype.slice.call(\n    document.querySelectorAll('a[href^=\"#\"]')\n  );\n\n  return links.filter(function(link) {\n    if (link.hash === '#' || link.hash === '') {\n      return false;\n    }\n\n    if (options.ignore && link.matches(options.ignore)) {\n      return false;\n    }\n\n    var element = document.querySelector(link.hash);\n\n    if (!element) {\n      return false;\n    }\n\n    link.addEventListener('click', function() {\n      forceFocus(element, options);\n    });\n\n    return true;\n  });\n}\n\nexport function focusable(container) {\n  var elements = Array.prototype.slice.call(\n    container.querySelectorAll(\n      '[tabindex],' +\n        '[draggable],' +\n        'a[href],' +\n        'area,' +\n        'button:enabled,' +\n        'input:not([type=hidden]):enabled,' +\n        'object,' +\n        'select:enabled,' +\n        'textarea:enabled'\n    )\n  );\n\n  // Filter out elements that are not visible.\n  // Copied from jQuery https://github.com/jquery/jquery/blob/2d4f53416e5f74fa98e0c1d66b6f3c285a12f0ce/src/css/hiddenVisibleSelectors.js\n  return elements.filter(function(element) {\n    return !!(\n      element.offsetWidth ||\n      element.offsetHeight ||\n      element.getClientRects().length\n    );\n  });\n}\n\n/**\n * Traps the focus in a particular container\n *\n * @param {Element} container - Container DOM element to trap focus inside of\n * @param {Element} elementToFocus - Element to be focused on first\n * @param {Object} options - Settings unique to your theme\n * @param {string} options.className - Class name to apply to element on focus.\n */\n\nvar trapFocusHandlers = {};\n\nexport function trapFocus(container, options) {\n  options = options || {};\n  var elements = focusable(container);\n  var elementToFocus = options.elementToFocus || container;\n  var first = elements[0];\n  var last = elements[elements.length - 1];\n\n  removeTrapFocus();\n\n  trapFocusHandlers.focusin = function(event) {\n    if (container !== event.target && !container.contains(event.target)) {\n      first.focus();\n    }\n\n    if (\n      event.target !== container &&\n      event.target !== last &&\n      event.target !== first\n    )\n      return;\n    document.addEventListener('keydown', trapFocusHandlers.keydown);\n  };\n\n  trapFocusHandlers.focusout = function() {\n    document.removeEventListener('keydown', trapFocusHandlers.keydown);\n  };\n\n  trapFocusHandlers.keydown = function(event) {\n    if (event.keyCode !== 9) return; // If not TAB key\n\n    // On the last focusable element and tab forward, focus the first element.\n    if (event.target === last && !event.shiftKey) {\n      event.preventDefault();\n      first.focus();\n    }\n\n    //  On the first focusable element and tab backward, focus the last element.\n    if (\n      (event.target === container || event.target === first) &&\n      event.shiftKey\n    ) {\n      event.preventDefault();\n      last.focus();\n    }\n  };\n\n  document.addEventListener('focusout', trapFocusHandlers.focusout);\n  document.addEventListener('focusin', trapFocusHandlers.focusin);\n\n  forceFocus(elementToFocus, options);\n}\n\n/**\n * Removes the trap of focus from the page\n */\nexport function removeTrapFocus() {\n  document.removeEventListener('focusin', trapFocusHandlers.focusin);\n  document.removeEventListener('focusout', trapFocusHandlers.focusout);\n  document.removeEventListener('keydown', trapFocusHandlers.keydown);\n}\n\n/**\n * Add a preventive message to external links and links that open to a new window.\n * @param {string} elements - Specific elements to be targeted\n * @param {object} options.messages - Custom messages to overwrite with keys: newWindow, external, newWindowExternal\n * @param {string} options.messages.newWindow - When the link opens in a new window (e.g. target=\"_blank\")\n * @param {string} options.messages.external - When the link is to a different host domain.\n * @param {string} options.messages.newWindowExternal - When the link is to a different host domain and opens in a new window.\n * @param {object} options.prefix - Prefix to namespace \"id\" of the messages\n */\nexport function accessibleLinks(elements, options) {\n  if (typeof elements !== 'string') {\n    throw new TypeError(elements + ' is not a String.');\n  }\n\n  elements = document.querySelectorAll(elements);\n\n  if (elements.length === 0) {\n    return;\n  }\n\n  options = options || {};\n  options.messages = options.messages || {};\n\n  var messages = {\n    newWindow: options.messages.newWindow || 'Opens in a new window.',\n    external: options.messages.external || 'Opens external website.',\n    newWindowExternal:\n      options.messages.newWindowExternal ||\n      'Opens external website in a new window.'\n  };\n\n  var prefix = options.prefix || 'a11y';\n\n  var messageSelectors = {\n    newWindow: prefix + '-new-window-message',\n    external: prefix + '-external-message',\n    newWindowExternal: prefix + '-new-window-external-message'\n  };\n\n  function generateHTML(messages) {\n    var container = document.createElement('ul');\n    var htmlMessages = Object.keys(messages).reduce(function(html, key) {\n      return (html +=\n        '<li id=' + messageSelectors[key] + '>' + messages[key] + '</li>');\n    }, '');\n\n    container.setAttribute('hidden', true);\n    container.innerHTML = htmlMessages;\n\n    document.body.appendChild(container);\n  }\n\n  function externalSite(link) {\n    return link.hostname !== window.location.hostname;\n  }\n\n  elements.forEach(function(link) {\n    var target = link.getAttribute('target');\n    var rel = link.getAttribute('rel');\n    var isExternal = externalSite(link);\n    var isTargetBlank = target === '_blank';\n    var isRelNoopenerEmpty = rel === null || rel.indexOf('noopener') === -1;\n\n    if (isTargetBlank && isRelNoopenerEmpty) {\n      link.setAttribute('rel', 'noopener');\n    }\n\n    if (isExternal && isTargetBlank) {\n      link.setAttribute('aria-describedby', messageSelectors.newWindowExternal);\n    } else if (isExternal) {\n      link.setAttribute('aria-describedby', messageSelectors.external);\n    } else if (isTargetBlank) {\n      link.setAttribute('aria-describedby', messageSelectors.newWindow);\n    }\n  });\n\n  generateHTML(messages);\n}","function getDefaultRequestConfig() {\n  return JSON.parse(\n    JSON.stringify({\n      credentials: 'same-origin',\n      headers: {\n        'X-Requested-With': 'XMLHttpRequest',\n        'Content-Type': 'application/json;'\n      }\n    })\n  );\n}\n\nfunction fetchJSON(url, config) {\n  return fetch(url, config).then(function(response) {\n    if (!response.ok) {\n      throw response;\n    }\n    return response.json();\n  });\n}\n\nexport function cart() {\n  return fetchJSON('/cart.js', getDefaultRequestConfig());\n}\n\nexport function cartAdd(id, quantity, properties) {\n  var config = getDefaultRequestConfig();\n\n  config.method = 'POST';\n  config.body = JSON.stringify({\n    id: id,\n    quantity: quantity,\n    properties: properties\n  });\n\n  return fetchJSON('/cart/add.js', config);\n}\n\nexport function cartChange(line, options) {\n  var config = getDefaultRequestConfig();\n\n  options = options || {};\n\n  config.method = 'POST';\n  config.body = JSON.stringify({\n    line: line,\n    quantity: options.quantity,\n    properties: options.properties\n  });\n\n  return fetchJSON('/cart/change.js', config);\n}\n\nexport function cartClear() {\n  var config = getDefaultRequestConfig();\n  config.method = 'POST';\n\n  return fetchJSON('/cart/clear.js', config);\n}\n\nexport function cartUpdate(body) {\n  var config = getDefaultRequestConfig();\n\n  config.method = 'POST';\n  config.body = JSON.stringify(body);\n\n  return fetchJSON('/cart/update.js', config);\n}\n\nexport function cartShippingRates() {\n  return fetchJSON('/cart/shipping_rates.json', getDefaultRequestConfig());\n}\n","export function key(key) {\n  if (typeof key !== 'string' || key.split(':').length !== 2) {\n    throw new TypeError(\n      'Theme Cart: Provided key value is not a string with the format xxx:xxx'\n    );\n  }\n}\n\nexport function quantity(quantity) {\n  if (typeof quantity !== 'number') {\n    throw new TypeError(\n      'Theme Cart: An object which specifies a quantity or properties value is required'\n    );\n  }\n}\n\nexport function id(id) {\n  if (typeof id !== 'number') {\n    throw new TypeError('Theme Cart: Variant ID must be a number');\n  }\n}\n\nexport function properties(properties) {\n  if (typeof properties !== 'object') {\n    throw new TypeError('Theme Cart: Properties must be an object');\n  }\n}\n\nexport function options(options) {\n  if (typeof options !== 'object') {\n    throw new TypeError('Theme Cart: Options must be an object');\n  }\n\n  if (\n    typeof options.quantity === 'undefined' &&\n    typeof options.properties === 'undefined'\n  ) {\n    throw new Error(\n      'Theme Cart: You muse define a value for quantity or properties'\n    );\n  }\n\n  if (typeof options.quantity !== 'undefined') {\n    quantity(options.quantity);\n  }\n\n  if (typeof options.properties !== 'undefined') {\n    properties(options.properties);\n  }\n}\n","/**\n * Cart Template Script\n * ------------------------------------------------------------------------------\n * A file that contains scripts highly couple code to the Cart template.\n *\n * @namespace cart\n */\n\nimport * as request from './request';\nimport * as validate from './validate';\n\n/**\n * Returns the state object of the cart\n * @returns {Promise} Resolves with the state object of the cart (https://help.shopify.com/en/themes/development/getting-started/using-ajax-api#get-cart)\n */\nexport function getState() {\n  return request.cart();\n}\n\n/**\n * Returns the index of the cart line item\n * @param {string} key The unique key of the line item\n * @returns {Promise} Resolves with the index number of the line item\n */\nexport function getItemIndex(key) {\n  validate.key(key);\n\n  return request.cart().then(function(state) {\n    var index = -1;\n\n    state.items.forEach(function(item, i) {\n      index = item.key === key ? i + 1 : index;\n    });\n\n    if (index === -1) {\n      return Promise.reject(\n        new Error('Theme Cart: Unable to match line item with provided key')\n      );\n    }\n\n    return index;\n  });\n}\n\n/**\n * Fetches the line item object\n * @param {string} key The unique key of the line item\n * @returns {Promise} Resolves with the line item object (See response of cart/add.js https://help.shopify.com/en/themes/development/getting-started/using-ajax-api#add-to-cart)\n */\nexport function getItem(key) {\n  validate.key(key);\n\n  return request.cart().then(function(state) {\n    var lineItem = null;\n\n    state.items.forEach(function(item) {\n      lineItem = item.key === key ? item : lineItem;\n    });\n\n    if (lineItem === null) {\n      return Promise.reject(\n        new Error('Theme Cart: Unable to match line item with provided key')\n      );\n    }\n\n    return lineItem;\n  });\n}\n\n/**\n * Add a new line item to the cart\n * @param {number} id The variant's unique ID\n * @param {object} options Optional values to pass to /cart/add.js\n * @param {number} options.quantity The quantity of items to be added to the cart\n * @param {object} options.properties Line item property key/values (https://help.shopify.com/en/themes/liquid/objects/line_item#line_item-properties)\n * @returns {Promise} Resolves with the line item object (See response of cart/add.js https://help.shopify.com/en/themes/development/getting-started/using-ajax-api#add-to-cart)\n */\nexport function addItem(id, options) {\n  options = options || {};\n\n  validate.id(id);\n\n  return request.cartAdd(id, options.quantity, options.properties);\n}\n\n/**\n * Changes the quantity and/or properties of an existing line item.\n * @param {string} key The unique key of the line item (https://help.shopify.com/en/themes/liquid/objects/line_item#line_item-key)\n * @param {object} options Optional values to pass to /cart/add.js\n * @param {number} options.quantity The quantity of items to be added to the cart\n * @param {object} options.properties Line item property key/values (https://help.shopify.com/en/themes/liquid/objects/line_item#line_item-properties)\n * @returns {Promise} Resolves with the state object of the cart (https://help.shopify.com/en/themes/development/getting-started/using-ajax-api#get-cart)\n */\nexport function updateItem(key, options) {\n  validate.key(key);\n  validate.options(options);\n\n  return getItemIndex(key).then(function(line) {\n    return request.cartChange(line, options);\n  });\n}\n\n/**\n * Removes a line item from the cart\n * @param {string} key The unique key of the line item (https://help.shopify.com/en/themes/liquid/objects/line_item#line_item-key)\n * @returns {Promise} Resolves with the state object of the cart (https://help.shopify.com/en/themes/development/getting-started/using-ajax-api#get-cart)\n */\nexport function removeItem(key) {\n  validate.key(key);\n\n  return getItemIndex(key).then(function(line) {\n    return request.cartChange(line, { quantity: 0 });\n  });\n}\n\n/**\n * Sets all quantities of all line items in the cart to zero. This does not remove cart attributes nor the cart note.\n * @returns {Promise} Resolves with the state object of the cart (https://help.shopify.com/en/themes/development/getting-started/using-ajax-api#get-cart)\n */\nexport function clearItems() {\n  return request.cartClear();\n}\n\n/**\n * Gets all cart attributes\n * @returns {Promise} Resolves with the cart attributes object\n */\nexport function getAttributes() {\n  return request.cart().then(function(state) {\n    return state.attributes;\n  });\n}\n\n/**\n * Sets all cart attributes\n * @returns {Promise} Resolves with the cart state object\n */\nexport function updateAttributes(attributes) {\n  return request.cartUpdate({ attributes: attributes });\n}\n\n/**\n * Clears all cart attributes\n * @returns {Promise} Resolves with the cart state object\n */\nexport function clearAttributes() {\n  return getAttributes().then(function(attributes) {\n    for (var key in attributes) {\n      attributes[key] = '';\n    }\n    return updateAttributes(attributes);\n  });\n}\n\n/**\n * Gets cart note\n * @returns {Promise} Resolves with the cart note string\n */\nexport function getNote() {\n  return request.cart().then(function(state) {\n    return state.note;\n  });\n}\n\n/**\n * Sets cart note\n * @returns {Promise} Resolves with the cart state object\n */\nexport function updateNote(note) {\n  return request.cartUpdate({ note: note });\n}\n\n/**\n * Clears cart note\n * @returns {Promise} Resolves with the cart state object\n */\nexport function clearNote() {\n  return request.cartUpdate({ note: '' });\n}\n\n/**\n * Get estimated shipping rates.\n * @returns {Promise} Resolves with response of /cart/shipping_rates.json (https://help.shopify.com/en/themes/development/getting-started/using-ajax-api#get-shipping-rates)\n */\nexport function getShippingRates() {\n  return request.cartShippingRates();\n}\n"],"sourceRoot":""}